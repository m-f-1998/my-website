<div id="projects" class="d-flex justify-content-between overflow-auto m-3 gap-3">
  @for (project of projects; track $index) {
    <div class="card project-card">
      <img src="/api/img/projects/{{ project.imageUrl }}?w=640&f=webp"
        srcset="
          /api/img/projects/{{ project.imageUrl }}?w=320&f=webp 320w,
          /api/img/projects/{{ project.imageUrl }}?w=640&f=webp 640w,
          /api/img/projects/{{ project.imageUrl }}?w=1024&f=webp 1024w
        "
        sizes="(max-width: 600px) 100vw, 600px"
        alt="{{ project.title }}"
        loading="lazy"
        decoding="async"
        class="card-img-top project-img"
      />
      <div class="card-header d-flex justify-content-center align-items-center">
        <h5 class="card-title fw-bold margin-0 text-center">{{ project.title }}</h5>
      </div>
      <div class="card-body text-center">
        @if (project.fullText && project.description.length > 40) {
          <p class="card-text">{{ project.description }}</p>
          <div class="d-flex flex-row justify-content-center gap-5">
            @for (link of project.links; track $index) {
              <a target="_blank" href="{{ link.url }}" class="btn btn-primary">{{ link.label }}</a>
            }
          </div>
        } @else {
          <p class="card-text">{{ project.description.slice (0,40) }}...</p>
        }
        @if (project.description.length > 40) {
          <button class="btn btn-secondary" (click)="readmore(project)">
            {{ project.fullText ? 'Shrink' : 'Read More' }}
          </button>
        }
      </div>
    </div>
  }
</div>